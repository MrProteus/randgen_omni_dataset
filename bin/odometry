#! /usr/bin/env python

import rospy
from randgen_omni_dataset import odometry

LOG_LEVEL = rospy.DEBUG
INIT_SEED = None
NODE_NAME = 'OMNI1_odometry'
TOPIC = '/OMNI1/odometry'
SERVICE = '/OMNI1/odometry/change_state'
FREQ = 33

if __name__ == '__main__':
    # Init node
    rospy.init_node(NODE_NAME, log_level=LOG_LEVEL)

    # Odometry object
    odom = odometry.Odometry(freq=FREQ, topic=TOPIC, service=SERVICE)
    odom.run(True)

    # Start odom loop, will exit when shutdown
    try:
        odom.loop()
    except rospy.ROSInterruptException:
        pass